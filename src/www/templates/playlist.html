<div id="playlistDiv" ng-controller="playlistCtrl as $ctrl" style="padding: 10px; width: 100%; height: 100%; display: table;">
	<div style="display: table-row; height: 100%;">
		<div id="playlistAllDiv" class="playlistCol">
			<p>Playlists</p>
			<div>
				<input type="text" id="playlistNameSearch" ng-model="playlistNameSearch" ng-model-options='{debounce: 500}' ng-change="advSearch()" placeholder="Search for playlist name" style="width: 100%;">
				<a data-toggle="collapse" data-target=".playlistCollapse" href="">Advanced Search</a>
				<div id="advSearchDiv" class="playlistCollapse collapse" style="padding-bottom: 10px;">
					<div id="playlistDatePicker" class="input-daterange input-group" style="z-index: 1;">
						<span class="input-group-addon">Dates:</span>
						<input type="text" class="input-sm form-control" name="start" id="playlistStartDate" ng-model="playlistStartDate"/>
						<span class="input-group-addon">to</span>
						<input type="text" class="input-sm form-control" name="end" id="playlistEndDate" ng-model="playlistEndDate"/>
						<span class="input-group-addon">AND</span>
					</div>
					<div class="input-group">
						<div class="input-group">
							<span class="input-group-addon">Includes songs:</span>
							<div data-tip="Use semicolons to separate entries">
								<input type="text" id="playlistSongSearch" class="input-sm form-control" ng-model="playlistSongSearch">
							</div>
							<span class="input-group-addon">OR</span>
						</div>
						<div class="input-group">
							<span class="input-group-addon">Includes artists:</span>
							<div data-tip="Use semicolons to separate entries">
								<input type="text" id="playlistArtistSearch" class="input-sm form-control" ng-model="playlistArtistSearch">
							</div>
							<!--TODO: add a drop down for artists-->
						</div>
					</div>
					<div class="input-group">
						<button type="button" id="advSearchBtn" ng-click="advSearch()">Search</button>
					</div>
				</div>
			</div>
			<div>
				<button type="button" ng-click="sortBy('name')">Name<img ng-class="sortGlyph('name')" style="left: 2px;"></img></button>
				<button type="button" ng-click="sortBy('relev')">Relevance<img ng-class="sortGlyph('relev')" style="left: 2px;"></img></button>
				<button type="button" ng-click="sortBy('date')" style="float: right;">Date<img ng-class="sortGlyph('date')" style="left: 2px;"></img></button>
			</div>
			<div class="joinCollapseContainer sortableDataContainer playlistCollapse collapse show">
				<div ui-sortable="sortablePlaylist" ng-model="playlistData" id="playlistSelect" class="list" style="width: 100%; min-height: 100%;">
					<div ui-sortable-selectable ng-repeat="item in playlistData" class="item playlistItem">
						<div style="width: 100%; display: table; table-layout: fixed;">
							<div style="width: 100%; display: table-row;">
								<div style="width: calc(100% - 80px); display: table-cell; overflow: hidden;">{{item.name}}</div>
								<div style="width: 80px; display: table-cell;">{{item.dateStr}}</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<button type="button" class="btn btn-success" ng-disabled="playlistIndices.length == 0" ng-click="triggerPlay()">{{(playlistSelect.length > 1) ? "Play Selected" : "Play"}}</button>
			<button type="button" class="btn btn-success" ng-click="newPlaylist()">New</button>
			<button type="button" class="btn btn-primary" ng-click="newPlaylist('edit')" ng-disabled="playlistIndices.length != 1">Edit Playlist</button>
			<button type="button" class="btn btn-danger" ng-click="deletePlaylist()" ng-disabled="playlistIndices.length == 0">Delete</button>
		</div>
		<div id="playlistContentsDiv" class="playlistCol">
			<p>Songs</p>
			<!--- TODO: add a search filter here; disable ordering when searching?-->
			<div id="songContainer" class="sortableDataContainer" style="height: calc(100% - 33px);">
				<div ui-sortable="sortableSongs" ng-model="songData" id="songSelect" class="list" style="width: 100%; min-height: 100%;">
					<div ui-sortable-selectable ng-repeat="song in songData" class="item songItem">
						{{song.name}}
					</div>
				</div>
			</div>
			<button type="button" class="btn btn-success" ng-click="addSongs()" ng-disabled="playlistIndices.length != 1">Add Songs</button>
			<button type="button" class="btn btn-primary" ng-click="editSong()" ng-disabled="songIndices.length != 1">Edit Song</button>
			<button type="button" class="btn btn-danger" ng-click="deleteSong()" ng-disabled="songIndices.length == 0">Remove Selected</button>
		</div>
	</div>

	<div id="addPlaylistModal" class="modal" style="display: none;">
		<div class="modal-content" style="width:75%;">
			<div id="playlistMode"></div>
			<input type="text" id="newPlaylistName" ng-model="newPlaylistName" placeholder="Playlist Name">
			<div>
				<button type="button" id="submitNewPlaylist" class="col-md-3 btn btn-success" ng-click="addNewPlaylist()" ng-disabled="newPlaylistName.length == 0">{{(editing) ? "Rename" : "Add"}} Playlist</button>
				<button type="button" class="col-md-3 btn btn-danger" ng-click="closePlaylistModal()">Cancel</button>
			</div>
		</div>
	</div>

	<div id="addMusicListModal" class="modal" style="display: none;">
		<div class="modal-content" style="width:75%;">
			<div id="playlistSongEditDiv">
				<!-- put file here -->
			</div>
			<div>
				<button type="button" class="col-md-3 btn btn-success" ng-click="submitSongs()" ng-disabled="songDatashare.songIndices.length == 0">Add</button>
				<button type="button" class="col-md-3 btn btn-danger" ng-click="closeAddSongsModal()">Cancel</button>
			</div>
		</div>
	</div>

	<div id="editMusicModal" class="modal" style="display: none;">
		<div class="modal-content" style="width:75%;">
			<!-- <table class="table" style="width: 100%; display: table; margin-bottom: 5px;">
				<tr ng-repeat = "(key, val) in newSongData" ng-if="key!='_id' && key!='order'">
					<td>{{key}}</td>
					<td ng-if="key!='url'">
						<input type="text" ng-model="newSongData[key]" style="width: 100%;">
					</td>
					<td ng-if="key=='url'">
						<input id="newSongUrlInput" type="text" ng-model="newSongData[key]" style="width: calc(100% - 45px); vertical-align: bottom;">
						<button type="button" class="btn refreshBtn" ng-click="previewSong()"><img class="icon icon-refresh" style="top: 0px;"></img></button>
					</td>
				</tr>
			</table>
			<div id="previewDisplay" style="padding-bottom: 5px;"></div> -->
			<div id="playlistEditTemplate">
				<!-- put file here -->
			</div>
			<div>
				<button type="button" class="col-md-3 btn btn-success" ng-disabled="songDatashare.checkSongFields()" ng-click="submitEditSong()">Update</button>
				<button type="button" class="col-md-3 btn btn-danger" ng-click="closeEditSongModal()">Cancel</button>
			</div>
		</div>
	</div>
</div>
